

# Deploying website from GIT and enabling rolling updates in ASG using ansible.

## Step 1: Installing the latest version of ansible

To install Ansible, first, ensure that Python and pip installer are installed on your system. Then, you can use pip3 package manager to install the latest version of Ansible.
```sh
sudo yum install python3 python3-pip
pip3 install ansible
```
![image](https://user-images.githubusercontent.com/120683482/220931312-bc042a27-5b88-4308-9275-f44d5f2cb806.png)

Use the following command to display the version information of ansible installed on our system.
```sh
ansible --version
```

## Step 2: Create an IAM role and attach it to the ansible master instance

- Go to the AWS Management Console and navigate to the IAM service.
- Click on "Roles" in the left-hand menu and then click the "Create role" button.
- On the "Create role" screen, select "AWS service" as the trusted entity and then choose "EC2" as the service that will use this role.
- Under "Permissions", search for the "AmazonEC2ReadOnlyAccess" policy and select it.
- Click "Next" to move to the "Tags" screen. You can add tags if you want, but they are not required.
- On the "Review" screen, give the role a name, such as "EC2readonlyaccess", and review the details.
- Click "Create role" to create the new IAM role.
- You can now attach it to the ansible master EC2 instance.

## Step 3: Install AWS modules on the master instance

```sh
ansible-galaxy collection install amazon.aws
```

## Step 4: Create Auto scaling group and Load balancer

To get started, create a launch configuration or launch template and an auto scaling group that meets your requirements for minimum, maximum, and desired capacity. 

After that, create an empty target group and an application load balancer. Finally, update the load balancing information for your auto scaling group to use the new target group.



![image](https://user-images.githubusercontent.com/120683482/220806337-185a305f-954f-4270-b6f1-6b45b3dd67df.png)


## Step : Develop a playbook that retrieves information about instances generated by the Auto Scaling Group (ASG).


![image](https://user-images.githubusercontent.com/120683482/220806296-8407a325-2401-49e4-916a-ea447cbd9ce5.png)


![image](https://user-images.githubusercontent.com/120683482/220806453-db65dc50-8890-4f2a-a510-caba3c53e692.png)


